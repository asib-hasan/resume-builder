import{c as l,b as s,k as g,f as n,t as w,l as m,v as u,h as f,p as y,i}from"./index-B_FBt44k.js";import{a as b}from"./index-D8rVyQy1.js";import{u as x,r as p,e as h}from"./index-DDjTWfF1.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={setup(){const d=y(),o=f({email:"",password:""}),e=x({email:{required:p,email:h},password:{required:p}},o),r=f(null);return{form:o,v$:e,submitForm:async()=>{var t,c;if(e.value.$validate(),!e.value.$error)try{const a=await b.post("http://127.0.0.1:8000/api/login",{email:o.value.email,password:o.value.password});localStorage.setItem("token",a.data.token),r.value=null,d.push("/dashboard")}catch(a){alert(a),r.value=((c=(t=a.response)==null?void 0:t.data)==null?void 0:c.error)||"Login failed"}},errorMessage:r}}},I={class:"container"},P={class:"min-vh-50 d-flex flex-column align-items-center justify-content-center py-4"},V={class:"container"},j={class:"row justify-content-center"},E={class:"col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center"},F={class:"card mb-3"},N={class:"card-body"},S={key:0,class:"alert alert-danger"},B={class:"col-12"},D={class:"form-floating"},U={key:0,class:"text-danger"},q={class:"col-12"},L={class:"form-floating"},C={key:0,class:"text-danger"};function G(d,o,v,e,r,_){return i(),l("main",null,[s("div",I,[s("section",P,[s("div",V,[s("div",j,[s("div",E,[s("div",F,[s("div",N,[o[6]||(o[6]=s("div",{class:"mt-4 mb-4"},[s("div",{class:"d-flex justify-content-center"},[s("a",{href:"",class:"logo d-flex align-items-center w-auto"},[s("span",null,"My Profile")])])],-1)),s("form",{class:"row g-3",onSubmit:o[2]||(o[2]=g((...t)=>e.submitForm&&e.submitForm(...t),["prevent"]))},[e.errorMessage?(i(),l("div",S,w(e.errorMessage),1)):n("",!0),s("div",B,[s("div",D,[m(s("input",{type:"email",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=t=>e.form.email=t),placeholder:"Enter User ID"},null,512),[[u,e.form.email]]),o[3]||(o[3]=s("label",{for:"email"},"Email",-1)),e.v$.email.$error?(i(),l("small",U,"Invalid email")):n("",!0)])]),s("div",q,[s("div",L,[m(s("input",{type:"password",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=t=>e.form.password=t),placeholder:"Enter Password"},null,512),[[u,e.form.password]]),o[4]||(o[4]=s("label",{for:"password"},"Password",-1)),e.v$.password.$error?(i(),l("small",C,"Password is required")):n("",!0)])]),o[5]||(o[5]=s("div",{class:"col-12"},[s("button",{class:"btn btn-primary w-100",type:"submit"},"SIGN IN")],-1))],32)])])])])])])])])}const A=k(M,[["render",G]]);export{A as default};
