import{j as M,h,o as U,c as i,a as u,b as e,d as P,w as y,r as B,k as L,l as v,f as p,e as l,v as _,n as c,u as o,q as x,F as T,i as n}from"./index-mpPEvR65.js";import{S as I}from"./SideBar-COT6sxyv.js";import{C as E}from"./CustomEditor-B5OINab7.js";import{a as w}from"./index-D8rVyQy1.js";import{u as N,r as b,e as F,m as D}from"./index-C3a4g50J.js";import{a as j}from"./config-CoiaJPR4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z="https://openrouter.ai/api/v1/chat/completions",H="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",O=async q=>{var k;try{return(await w.post(z,{model:"qwen/qwen3-0.6b-04-28:free",messages:[{role:"user",content:"Only give me the main response"+q}]},{headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json","HTTP-Referer":"http://asib-hasan.com","X-Title":"Your App Name"}})).data.choices[0].message.content}catch(f){throw console.error("OpenRouter error:",((k=f.response)==null?void 0:k.data)||f.message),f}},R={id:"main",class:"main"},G={class:"dashboard"},K={class:"row"},Q={class:"col-md-12"},W={class:"nav nav-tabs nav-tabs-bordered d-flex"},X={class:"nav-item"},Y={class:"nav-item tab-style"},J={class:"nav-item tab-style"},Z={class:"nav-item tab-style"},ss={class:"nav-item tab-style"},es={class:"nav-item tab-style"},as={class:"nav-item tab-style"},ts={class:"nav-item tab-style"},os={class:"nav-item tab-style"},rs={class:"tab-content"},ls={class:"col-md-4"},is={key:0,class:"error-msg"},ns={class:"col-md-4"},ds={key:0,class:"error-msg"},ms={class:"col-md-4"},us={key:0,class:"error-msg"},ps={class:"col-md-4"},vs={key:0,class:"error-msg"},cs={class:"col-md-4"},bs={key:0,class:"error-msg"},fs={class:"col-md-4"},ys={key:0,class:"error-msg"},_s={class:"col-md-4"},gs={key:0,class:"error-msg"},ks={class:"col-md-4"},$s={key:0,class:"error-msg"},hs={class:"col-md-4"},ws={key:0,class:"error-msg"},qs={class:"col-md-12"},Vs={key:0,class:"error-msg mt-1"},xs={class:"modal fade",id:"aiModal",tabindex:"-1","aria-labelledby":"aiModalLabel","aria-hidden":"true"},As={class:"modal-dialog modal-lg"},Ss={class:"modal-content"},Cs={class:"modal-body"},Ms={class:"modal-footer"},Us=["disabled"],Ps=["disabled"],Bs={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Ls={key:1},Ts={key:2,class:"ms-2"},Hs={__name:"ProfilePage",setup(q){const k=localStorage.getItem("token"),f=M.useToast(),a=h({first_name:"",last_name:"",gender:"",dob:"",marital_status:"",profession:"",address:"",phone:"",email:"",summary:""}),A={first_name:{required:b},last_name:{required:b},gender:{required:b},dob:{required:b},marital_status:{required:b},profession:{required:b},address:{required:b},phone:{required:b,minLength:D(10)},email:{required:b,email:F},summary:{required:b}},t=N(A,a),$=h(""),g=h(!1),S=async()=>{g.value=!0;try{const d=await O($.value);a.value.summary=d}catch{f.error("AI failed to respond")}finally{g.value=!1}},V=async()=>{try{const s=(await w.get(`${j}/api/profile`,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}})).data.data;a.value.first_name=s.first_name,a.value.last_name=s.last_name,a.value.address=s.address,a.value.phone=s.phone,a.value.email=s.email,a.value.marital_status=s.marital_status,a.value.profession=s.profession,a.value.summary=s.summary,a.value.gender=s.gender,a.value.dob=s.dob}catch(d){console.error(d)}},C=async()=>{if(t.value.$validate(),!t.value.$error)try{await w.post("http://127.0.0.1:8000/api/profile",a.value,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}}),f.success("Profile updated successfully"),V()}catch(d){if(console.error(d),d.response&&d.response.status===422){const s=d.response.data.errors;for(const m in s)f.error(s[m][0])}else f.error("Server error occurred."),console.error(d)}};return U(()=>{document.getElementById("my-resume").classList.add("nav-active"),V()}),(d,s)=>{const m=B("router-link");return n(),i(T,null,[u(I),e("main",R,[s[35]||(s[35]=P('<div class="pagetitle"><ol class="breadcrumb"><li class="breadcrumb-item active">Home</li><li class="breadcrumb-item"><a href="">My Resume</a></li></ol></div>',1)),e("section",G,[e("div",K,[e("div",Q,[e("ul",W,[e("li",X,[u(m,{to:"/resume/profile",class:"nav-link active font-weight-bold"},{default:y(()=>s[11]||(s[11]=[l("Personal")])),_:1})]),e("li",Y,[u(m,{to:"/resume/experiences",class:"nav-link font-weight-bold"},{default:y(()=>s[12]||(s[12]=[l("Experience")])),_:1})]),e("li",J,[u(m,{to:"/resume/educations",class:"nav-link font-weight-bold"},{default:y(()=>s[13]||(s[13]=[l("Education")])),_:1})]),e("li",Z,[u(m,{to:"/resume/skills",class:"nav-link font-weight-bold"},{default:y(()=>s[14]||(s[14]=[l("Skills")])),_:1})]),e("li",ss,[u(m,{to:"/resume/interests",class:"nav-link font-weight-bold"},{default:y(()=>s[15]||(s[15]=[l("Interest")])),_:1})]),e("li",es,[u(m,{to:"/resume/publications",class:"nav-link font-weight-bold"},{default:y(()=>s[16]||(s[16]=[l("Publications")])),_:1})]),e("li",as,[u(m,{to:"/resume/languages",class:"nav-link font-weight-bold"},{default:y(()=>s[17]||(s[17]=[l("Language")])),_:1})]),e("li",ts,[u(m,{to:"/resume/certifications",class:"nav-link font-weight-bold"},{default:y(()=>s[18]||(s[18]=[l("Certifications")])),_:1})]),e("li",os,[u(m,{to:"/resume/awards",class:"nav-link font-weight-bold"},{default:y(()=>s[19]||(s[19]=[l("Awards & Honors")])),_:1})])]),e("div",rs,[e("form",{onSubmit:L(C,["prevent"]),class:"row g-3"},[e("div",ls,[s[20]||(s[20]=e("label",{class:"form-label"},[l("First Name "),e("span",{class:"required-mask"},"*")],-1)),v(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>a.value.first_name=r),type:"text",class:c(["form-control",{"is-invalid":o(t).first_name.$dirty&&o(t).first_name.$error}])},null,2),[[_,a.value.first_name]]),o(t).first_name.$error?(n(),i("div",is,"First name required")):p("",!0)]),e("div",ns,[s[21]||(s[21]=e("label",{class:"form-label"},[l("Last Name "),e("span",{class:"required-mask"},"*")],-1)),v(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>a.value.last_name=r),type:"text",class:c(["form-control",{"is-invalid":o(t).last_name.$dirty&&o(t).last_name.$error}])},null,2),[[_,a.value.last_name]]),o(t).last_name.$error?(n(),i("div",ds,"Last name required")):p("",!0)]),e("div",ms,[s[23]||(s[23]=e("label",{class:"form-label"},[l("Gender "),e("span",{class:"required-mask"},"*")],-1)),v(e("select",{"onUpdate:modelValue":s[2]||(s[2]=r=>a.value.gender=r),class:c(["form-control",{"is-invalid":o(t).gender.$dirty&&o(t).gender.$error}])},s[22]||(s[22]=[e("option",{value:""},"-- Select --",-1),e("option",{value:"male"},"Male",-1),e("option",{value:"female"},"Female",-1),e("option",{value:"other"},"Other",-1)]),2),[[x,a.value.gender]]),o(t).gender.$error?(n(),i("div",us,"Gender required")):p("",!0)]),e("div",ps,[s[24]||(s[24]=e("label",{class:"form-label"},[l("Date of Birth "),e("span",{class:"required-mask"},"*")],-1)),v(e("input",{"onUpdate:modelValue":s[3]||(s[3]=r=>a.value.dob=r),type:"date",class:c(["form-control",{"is-invalid":o(t).dob.$dirty&&o(t).dob.$error}])},null,2),[[_,a.value.dob]]),o(t).dob.$error?(n(),i("div",vs,"Date of Birth required")):p("",!0)]),e("div",cs,[s[26]||(s[26]=e("label",{class:"form-label"},[l("Marital Status "),e("span",{class:"required-mask"},"*")],-1)),v(e("select",{"onUpdate:modelValue":s[4]||(s[4]=r=>a.value.marital_status=r),class:c(["form-control",{"is-invalid":o(t).marital_status.$dirty&&o(t).marital_status.$error}])},s[25]||(s[25]=[e("option",{value:""},"-- Select --",-1),e("option",{value:"1"},"Single",-1),e("option",{value:"2"},"Married",-1),e("option",{value:"3"},"Divorced",-1)]),2),[[x,a.value.marital_status]]),o(t).marital_status.$error?(n(),i("div",bs,"Marital status required")):p("",!0)]),e("div",fs,[s[27]||(s[27]=e("label",{class:"form-label"},[l("Profession "),e("span",{class:"required-mask"},"*")],-1)),v(e("input",{"onUpdate:modelValue":s[5]||(s[5]=r=>a.value.profession=r),type:"text",class:c(["form-control",{"is-invalid":o(t).profession.$dirty&&o(t).profession.$error}]),placeholder:"eg. Professor"},null,2),[[_,a.value.profession]]),o(t).profession.$error?(n(),i("div",ys,"Profession required")):p("",!0)]),e("div",_s,[s[28]||(s[28]=e("label",{class:"form-label"},[l("Address "),e("span",{class:"required-mask"},"*")],-1)),v(e("input",{"onUpdate:modelValue":s[6]||(s[6]=r=>a.value.address=r),type:"text",class:c(["form-control",{"is-invalid":o(t).address.$dirty&&o(t).address.$error}])},null,2),[[_,a.value.address]]),o(t).address.$error?(n(),i("div",gs,"Address required")):p("",!0)]),e("div",ks,[s[29]||(s[29]=e("label",{class:"form-label"},[l("Phone "),e("span",{class:"required-mask"},"*")],-1)),v(e("input",{"onUpdate:modelValue":s[7]||(s[7]=r=>a.value.phone=r),type:"text",class:c(["form-control",{"is-invalid":o(t).phone.$dirty&&o(t).phone.$error}])},null,2),[[_,a.value.phone]]),o(t).phone.$error?(n(),i("div",$s,"Phone must be at least 10 digits")):p("",!0)]),e("div",hs,[s[30]||(s[30]=e("label",{class:"form-label"},[l("Email "),e("span",{class:"required-mask"},"*")],-1)),v(e("input",{"onUpdate:modelValue":s[8]||(s[8]=r=>a.value.email=r),type:"email",class:c(["form-control",{"is-invalid":o(t).email.$dirty&&o(t).email.$error}])},null,2),[[_,a.value.email]]),o(t).email.$error?(n(),i("div",ws,"Valid email required")):p("",!0)]),e("div",qs,[s[31]||(s[31]=e("label",{class:"form-label"},[l("Summary "),e("span",{class:"required-mask"},"*"),e("a",{href:"#",class:"text-danger ai-button","data-bs-toggle":"modal","data-bs-target":"#aiModal"},[e("i",{class:"bi bi-cpu"}),l(" Ask AI ")])],-1)),e("div",{class:c(["border rounded",{"is-invalid":o(t).summary.$dirty&&o(t).summary.$error}])},[u(E,{modelValue:a.value.summary,"onUpdate:modelValue":s[9]||(s[9]=r=>a.value.summary=r)},null,8,["modelValue"])],2),o(t).summary.$error?(n(),i("div",Vs,"Summary required")):p("",!0)]),s[32]||(s[32]=e("div",{class:"col-md-1"},[e("label",{class:"form-label"},"Â "),e("button",{type:"submit",class:"btn btn-primary w-100"},"Save")],-1))],32),e("div",xs,[e("div",As,[e("div",Ss,[s[34]||(s[34]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"aiModalLabel"},"AI Assistance"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",Cs,[s[33]||(s[33]=e("p",null,"How can I help you? Ask me anything related to your responsibilities.",-1)),v(e("textarea",{"onUpdate:modelValue":s[10]||(s[10]=r=>$.value=r),class:"form-control",rows:"4",placeholder:"Type your question..."},null,512),[[_,$.value]])]),e("div",Ms,[e("button",{class:"btn btn-secondary","data-bs-dismiss":"modal",disabled:g.value}," Close ",8,Us),e("button",{class:"btn btn-primary",onClick:S,disabled:g.value},[g.value?(n(),i("span",Bs)):p("",!0),g.value?(n(),i("span",Ts,"Waiting...")):(n(),i("span",Ls,"Ask"))],8,Ps)])])])])])])])])])],64)}}};export{Hs as default};
